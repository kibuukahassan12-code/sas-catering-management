{% extends "base.html" %}
{% block content %}
<section class="page-header">
    <div>
        <p class="eyebrow">Bulletin Board</p>
        <h1>General Posts</h1>
        <p class="muted">Share updates, questions, and general information.</p>
    </div>
    <a class="btn-secondary" href="{{ url_for('communication.dashboard') }}">← Dashboard</a>
</section>

<section class="panel">
    <div class="panel-header">
        <h3>Post to Bulletin Board</h3>
    </div>
    <form method="POST" action="{{ url_for('communication.bulletin_post') }}">
        <textarea name="message" rows="4" placeholder="What's on your mind?" required style="width: 100%; padding: 0.75rem; border-radius: 8px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; resize: vertical;"></textarea>
        <div style="margin-top: 0.5rem;">
            <button type="submit" class="btn-primary">Post</button>
        </div>
    </form>
</section>

<section class="panel">
    <div class="panel-header">
        <h3>Recent Posts</h3>
    </div>
    {% if posts %}
    <div style="display: flex; flex-direction: column; gap: 1rem;">
        {% for post in posts %}
        <div style="padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px; border-left: 3px solid #F26822;">
            <div style="white-space: pre-wrap; margin-bottom: 0.5rem;">{{ post.message }}</div>
            <small class="muted">
                By {{ post.creator.email if post.creator else 'Unknown' }} • 
                {{ post.created_at.strftime('%Y-%m-%d %H:%M') if post.created_at else '' }}
            </small>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="muted" style="text-align: center; padding: 2rem;">No posts yet. Be the first to post!</p>
    {% endif %}
</section>
{% endblock %}

